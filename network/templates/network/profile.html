{% extends "network/layout.html" %}

{% block body %}
<div class="container-sm m-3">
  {% if user.is_authenticated %}
    <h1 class="card-title m-3">{{ user_profile.username }}</h1>
    <h5 class="card-title m-3"><small>{{user_profile.email}}</small></h5>
  {% endif %}
    <div class="card m-3 border-0" style="width: 15rem">
      <ul class="list-group list-group-flush d-flex flex-row justify-content-between">
        <li class="list-group-item border-0 ps-0">Following: {{following_count}}</li>
        <li class="list-group-item border-0 ps-0">Followers: {{followers_count}}</li>
      </ul>
      {% if user != user_profile and user.is_authenticated %}
        {% if not follows %}
          <a href="{% url 'follow' user_profile.username %}" class="btn btn-primary mt-3">Follow</a>
        {% else %}
          <a href="{% url 'unfollow' user_profile.username %}" class="btn btn-primary mt-3">Unfollow</a>
        {% endif %}
      {% endif %}
    </div>
  <h1 class="card-title m-3">Posts</h1>
  {% for post in posts %}
    <div class="card m-3 border rounded d-flex flex-column" id="posts">
      <div class="card-header">
        Posted by {{ post.user.username }}
      </div>
      <div class="card-body">
        <p class="card-text">{{ post.body }}</p>
      </div>
      <div class="card-footer text-body-secondary d-flex justify-content-between align-content-center">
        {{ post.timestamp }}
        <button class=" heart-button align-self-end">❤️ 0</button>
      </div>
    </div>
  {% endfor %}
  
</div>
{% endblock %}